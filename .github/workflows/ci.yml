                  name: Maven CI

                  on:
                    push:
                      branches:
                        - main
                    pull_request:
                      branches:
                        - main

                  jobs:
                    build:
                      runs-on: ubuntu-latest

                      steps:
                        # Paso 1: Clonar el repositorio
                        - name: Checkout del código
                          uses: actions/checkout@v4

                        # Paso 2: Configurar JDK 17 (cambio aquí)
                        - name: Set up JDK 17
                          uses: actions/setup-java@v3
                          with:
                            java-version: '17'   # ✅ Cambiado de '11' a '17'
                            distribution: 'temurin'
                            cache: maven

                        # Paso 3: Verificar la versión de Java
                        - name: Verificar la versión de Java
                          run: java -version    # ✅ Confirmar que se está usando Java 17

                        # Paso 4: Build y Test
                        - name: Build and Test
                          run: mvn clean verify

                        # Paso 5: Checkstyle
                        - name: Checkstyle Analysis
                          run: mvn checkstyle:checkstyle
                          continue-on-error: true

                        # Paso 6: SpotBugs
                        - name: SpotBugs Analysis
                          run: mvn spotbugs:spotbugs
                          continue-on-error: true

                        # Paso 7: Reporte de cobertura con JaCoCo
                        - name: Generate Coverage Report
                          run: mvn jacoco:report

                        - name: List generated files
                          run: ls -R target

                        # Paso 8: Subir artefactos generados
                        - name: Upload artifacts
                          uses: actions/upload-artifact@v4
                          with:
                            name: Maven-Reports
                            path: |
                              target/site/jacoco/jacoco.xml
                              target/checkstyle-result.xml
                              target/spotbugsXml.xml
